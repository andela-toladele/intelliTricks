<div ui-view>
  <div class="container" ng-controller="tricksCntrl">
    <div class="row push-down">
      <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
        <h1 class="page-title">{{pageTitle}}</h1>
      
        <ul class="nav nav-pills">
            <li id="recent"><a href="" ng-click="updateOrderCrit(0)">Most recent</a></li><li id="popular"><a href="" ng-click="updateOrderCrit(1)">Most popular</a></li><li id="discussed"><a href="" ng-click="updateOrderCrit(2)">Most discussed</a></li>
        </ul>
      </div>
      <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
        <p class="text-muted text-center">Place your ads here...</p>
      </div>
      
      <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
        <input type="text" class="search-box form-control" placeholder="Search..." ng-model="searchText">
      </div>
    </div>

    <div class="row js-trick-container">
      <div masonry="{columnWidth: 10}">
      
        <div dir-paginate="trick in filteredTricks = (tricks|filter:searchText|orderBy:orderCrit:true) | itemsPerPage : 9" >      
          <div href="#" class="masonry-brick trick-card col-lg-4 col-md-6 col-sm-6 col-xs-12">  
            <div class="trick-card-inner js-goto-trick wrapword" data-slug="tricks">
              <a class="trick-card-title" ui-sref="tricks({id: trickobject._id})">
                {{trickobject.title}}
              </a>
              <div class="trick-card-stats trick-card-by">by <b>{{trickobject.postedBy}}</b></div>
              <div class="trick-card-stats clearfix">
                <div class="trick-card-timeago">Submitted <span am-time-ago="trickobject.when"></span> <a ui-sref="category({id: trickobject.category.id, name: trickobject.category.name})">{{trickobject.category.name}}</a>
                </div>
                <div class="trick-card-stat-block wrapword"><span class="fa fa-eye"></span>{{trickobject.viewed}}</div>
                <div class="trick-card-stat-block text-center"><span class="fa fa-comment"></span>{{trickobject.comments.length}}</div>
                <div class="trick-card-stat-block text-right"><span class="fa fa-heart"></span>{{trickobject.likes.length}}</div>
              </div>    
            </div>
          </div>          
        </div>
        <div class="col-lg-12" ng-show="!filteredTricks.length && apiCallReturned">
            <div class="alert alert-danger">
              Sorry, no tricks for you!
            </div>
          </div>   
      </div>
    </div>

    <div class="col-md-12 text-center">
        <dir-pagination-controls boundary-links="true" template-url="/bower_components/angular-utils-pagination/dirPagination.tpl.html"></dir-pagination-controls>
    </div>    
  </div>
</div>