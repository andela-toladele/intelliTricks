<div ui-view>
  <div class="container" ng-controller="tricksCntrl">
    <div class="row push-down">
      <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
        <h1 class="page-title">{{pageTitle}}</h1>
      
        <ul class="nav nav-pills">
            <li id="recent"><a href="" ng-click="updateOrderCrit(0)">Most recent</a></li><li id="popular"><a href="" ng-click="updateOrderCrit(1)">Most popular</a></li><li id="discussed"><a href="" ng-click="updateOrderCrit(2)">Most discussed</a></li>
        </ul>
      </div>
      <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
        <p class="text-muted text-center">Place your ads here...</p>
      </div>
      
      <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
        <input type="text" class="search-box form-control" placeholder="Search..." ng-model="searchText">
      </div>
    </div>

    <div class="row js-trick-container">
      
      <div dir-paginate="trick in filteredTricks = (tricks|filter:searchText|orderBy:orderCrit:true) | itemsPerPage : 9">      
        <trick-Item trickobject="trick"></trick-Item>         
      </div>

      <div class="col-lg-12" ng-show="!filteredTricks.length && apiCallReturned">
        <div class="alert alert-danger">
          Sorry, no tricks for you!
        </div>
      </div>      

    </div>

    <div class="col-md-12 text-center">
        <dir-pagination-controls boundary-links="true" template-url="/bower_components/angular-utils-pagination/dirPagination.tpl.html"></dir-pagination-controls>
    </div>

    <script src="public/js/vendor/masonry.pkgd.min.js"></script>
    <script>
      $(function(){$container=$(".js-trick-container");$container.masonry({gutter:0,itemSelector:".trick-card",columnWidth:".trick-card"});$(".js-goto-trick a").click(function(e){e.stopPropagation()});$(".js-goto-trick").click(function(e){e.preventDefault();var t="http://intellitricks.herokuapp.com";var n=$(this).data("slug");window.location=t+"/"+n})})
    </script>
  </div>
</div>